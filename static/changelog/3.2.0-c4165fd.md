### 3.2.0 (2025-09-19)

#### 新特性

- 【管理页】service worker 缓存页面和静态资源
- 【管理页】cdn 托管管理后台页面，静态化更加彻底
- 【部署】支持以 war 的方式运行在 Jakarta servlet 容器内运行
    -  (需 tomcat 10+， jetty11 等)
    -  <font color="red">2.x 版本需先完成容器升级后，才能完成升级</font>
- 【部署】支持配置 contextPath，实现二级目录部署
- 【部署】适配 Lambda 无服务运行环境
- 【安装】引导页面显示新版本信息
- 【安装】支持 Cloudflare 的 D1 数据库（通过 WebApi 方式）

#### 优化

- 【性能】优化全局拦截器缓存的处理
- 【构建】统一打包时间，便于 reproduce
- 【管理页】支持 cross 请求
- 【管理页】升级编辑器各项依赖
- 【管理页】管理页面首次加载（不白屏一下）
- 【管理页】编辑器更简约，统一编辑器弹框，上传媒体文件更方便
- 【管理页】上传视频文件支持解析 B站链接 内嵌播放
- 【管理页】优化编辑器的本地缓存逻辑
- 【管理页】编辑器内文本查找和替换更友好
- 【管理页】优化在移动设备上写文章的体验
- 【管理页】摘要文本更直观，修改更方便
- 【管理页】预先缓存页面依赖的 api 接口，页面渲染更快
- 【管理页】增强 https 下的 Cookie 的安全性
- 【管理页】统一文件上传组件
- 【管理页】优化控制台统计信息的展示
- 【管理页】文章管理显示文章封面
- 【管理页】主动提示缓存管理页面版本是否已经落后实际的运行的版本
- 【管理页】可以强制同步到实际运行的版本
- 【管理页】管理设置页面修改 【主颜色】，【暗黑模式】等，可实时预览
- 【管理页】管理设置页面【主颜色】预设添加更多色彩
- 【管理页】主题配置界面，可以快捷预览 html 内容
- 【博客页】缓存大量的数据库记录，减少不必要的查询请求，以应对 FaaS 模式下的冷启动慢
- 【博客页】并发渲染 `<plugin>` 标签
- 【安装】在 `Docker` 和 无服务的安装流程更方便（引导完成 数据库 / 环境变量的配置）
- 【开发】优化开发体验，页面和接口分离后，不再依赖 `nginx` 完成前后端绑定到同一域下
- 【开发】优化 action-runner 的打包脚本
- 【插件】优化插件服务的启动逻辑，保证访问插件服务时服务是已经正常的完成启动了
- 【插件】优化 service 服务的执行逻辑
- 【其他】功能优化

#### 修复

- 2.x 安装流程中数据库空密码无法安装【仅 war 包】
- 修复原编辑器的历史遗留问题

#### 依赖

- ⬆️ simplewebserver  [4.0.110]
- ⬆️ mysql-connector-j  [9.3.0]
- ⬆️ codemirror 6.x
- 🔨 pretty.js -> hljs（代码着色库）
- ❌ commonmark.jar （服务端 markdown 转化）
- ❌ JQuery 依赖
- ❌ script 方式加载编辑器